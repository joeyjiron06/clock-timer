(this["webpackJsonpclock-timer"]=this["webpackJsonpclock-timer"]||[]).push([[0],{12:function(e,t,n){e.exports=n.p+"static/media/facebook.7f5e5374.svg"},13:function(e,t,n){e.exports=n.p+"static/media/github.95f94fbf.svg"},14:function(e,t,n){e.exports=n.p+"static/media/twitter.e019822f.svg"},15:function(e,t,n){e.exports=n(25)},25:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),i=n.n(o),c=(n(6),n(2)),l=n(3),s=n(4),u=(n(20),n(1)),m=n(10),f=n(11),d=function(){function e(t){Object(m.a)(this,e),this.totalMs=t}return Object(f.a)(e,[{key:"remainingMs",value:function(){return this.endMs-Date.now()}},{key:"start",value:function(e,t){var n=this;this.endMs=Date.now()+this.totalMs;var r=!0;return requestAnimationFrame((function a(){if(r){var o=n.remainingMs();o>=0&&(e(o),requestAnimationFrame(a)),o<=0&&t()}})),function(){r=!1}}}]),e}();function b(e){return(e<10?"0":"")+e}function p(e){return"0"===e[0]?"0"===e[1]?[null,null]:[null,e[1]]:e}function h(e){var t=function(e,t,n){var r=t-e.length,a=Array(r).fill(n);return[].concat(Object(l.a)(a),Object(l.a)(e))}(e,6,null),n=Object(c.a)(t,6);return{hours:[n[0],n[1]],minutes:[n[2],n[3]],seconds:[n[4],n[5]]}}var v=u.StyleSheet.create({timerText:{fontSize:60,"@media screen and (max-width: 360px)":{fontSize:48},"@media screen and (max-width: 320px)":{fontSize:24}},timerInputText:{position:"absolute",top:0,borderBottom:"solid 1px var(--color-grey)"},timerTextNumber:{opacity:.5},timerTextNumberFilled:{opacity:1},timerTextUnit:{fontSize:30,marginRight:10,"@media screen and (max-width: 320px)":{fontSize:12}}}),g=function(e){var t=e.values,n=e.unit;return a.a.createElement(r.Fragment,null,a.a.createElement("span",{className:Object(u.css)(v.timerTextNumber,null!==t[0]&&v.timerTextNumberFilled)},t[0]||"0"),a.a.createElement("span",{className:Object(u.css)(v.timerTextNumber,null!==t[1]&&v.timerTextNumberFilled)},t[1]||"0"),a.a.createElement("span",{className:Object(u.css)(v.timerTextNumber,null!==t[1]&&v.timerTextNumberFilled,v.timerTextUnit)},n))},y=function(e){var t=e.time;return a.a.createElement("div",{className:Object(u.css)(v.timerText)},a.a.createElement(g,{values:t.hours,unit:"h"}),a.a.createElement(g,{values:t.minutes,unit:"m"}),a.a.createElement(g,{values:t.seconds,unit:"s"}))},j=u.StyleSheet.create({timerInputContainer:{position:"relative",display:"inline-flex",flexDirection:"column",alignItems:"center"},borderBottom:{height:1,width:"100%",backgroundColor:"var(--color-grey)"},borderBottomFocused:{backgroundColor:"var(--color-primary)"},timerInput:{position:"absolute",opacity:0,width:280,height:42,cursor:"pointer"}}),x=new Set(["0","1","2","3","4","5","6","7","8","9","Enter"]),E=function(e){var t=e.onSubmit,n=e.text,o=e.onTextChanged,i=e.disabled,l=Object(r.useState)(!1),s=Object(c.a)(l,2),m=s[0],f=s[1];return a.a.createElement("form",{className:Object(u.css)(j.timerInputContainer),onSubmit:function(e){e.preventDefault(),t()}},a.a.createElement(y,{time:h(n||"")}),a.a.createElement("div",{className:Object(u.css)(j.borderBottom,m&&j.borderBottomFocused)}),a.a.createElement("input",{className:Object(u.css)(j.timerInput),type:"number",pattern:"[0-9]*",disabled:i,onChange:o,onFocus:function(){f(!0)},onBlur:function(){f(!1)},onKeyPress:function(e){console.log("event.key",e.key),x.has(e.key)||e.preventDefault()},value:n||""}))};var O=u.StyleSheet.create({root:{display:"flex",flexDirection:"column",alignItems:"stretch",maxWidth:400,margin:"auto",padding:20},circleProgressBar:{width:"100%"},buttonContainer:{display:"flex",justifyContent:"space-between"}}),w=6;function N(e){var t=function(e){var t=e,n=Math.floor(t/36e5);t%=36e5;var r=Math.floor(t/6e4);t%=6e4;var a=Math.floor(t/1e3);return t%=1e3,{hours:p(b(n).split("")),minutes:p(b(r).split("")),seconds:p(b(a).split(""))}}(e);return[].concat(Object(l.a)(t.hours),Object(l.a)(t.minutes),Object(l.a)(t.seconds)).filter((function(e){return!!e})).join("")}var k=new Audio;k.src="bell.mp3";var S=function(){var e=Object(r.useState)(100),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(null),l=Object(c.a)(i,2),m=l[0],f=l[1],b=Object(r.useState)(null),p=Object(c.a)(b,2),v=p[0],g=p[1];function y(){var e=function(e){var t=h(e),n=t.hours.map((function(e){return e||0})),r=t.minutes.map((function(e){return e||0})),a=t.seconds.map((function(e){return e||0}));return(n=60*Number(n[0]+n[1])*60*1e3)+(r=60*Number(r[0]+r[1])*1e3)+(a=1e3*Number(a[0]+a[1]))}(v),t=new d(e);t.stop=t.start((function(e){g(N(e)),o(e/t.totalMs*100)}),(function(){f(null),o(0),k.paused&&k.play(),function(e){gtag&&gtag("event","finished",{event_category:"timer",value:e})}(e)})),f(t),function(e){gtag&&gtag("event","start",{event_category:"timer",value:e})}(e)}function j(){v&&!m&&(k.hasPreloaded||(k.play(),k.pause(),k.currentTime=0,k.hasPreloaded=!0),y())}return Object(r.useEffect)((function(){return function(){m&&(m.stop(),f(null),g(null))}}),[m]),a.a.createElement("div",{className:Object(u.css)(O.root)},a.a.createElement(s.a,{classes:{root:Object(u.css)(O.circleProgressBar)},value:n,strokeWidth:4,styles:Object(s.b)({strokeLinecap:"round",pathColor:"var(--color-primary)",trailColor:"var(--color-grey)"})},a.a.createElement(E,{disabled:!!m,text:v,onSubmit:j,onTextChanged:function(e){var t=e.target.value;t.length>w||"0"!==t[0]&&g(t)}})),a.a.createElement("div",{className:Object(u.css)(O.buttonContainer)},a.a.createElement("button",{onClick:function(){var e;m&&(e=m.remainingMs(),gtag&&gtag("event","cancel",{event_category:"timer",value:e})),g(null),f(null),o(100)}},"Cancel"),a.a.createElement("button",{primary:"true",type:"submit",onClick:j}," Start")))},T=n(12),C=n.n(T),M=n(13),B=n.n(M),F=n(14),I=n.n(F),D=u.StyleSheet.create({icon:{display:"inline-block",width:28,height:28,opacity:.7,marginRight:20,transition:"all 250ms ease-in-out",cursor:"pointer",":hover":{opacity:1}},image:{width:"100%",height:"100%"}});function z(e){var t=e.src,n=e.url,r=e.alt;return a.a.createElement("a",{href:n,className:Object(u.css)(D.icon),target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:t,alt:r,className:Object(u.css)(D.image)}))}var A=function(){return a.a.createElement("div",null,a.a.createElement(z,{src:C.a,url:"https://www.facebook.com/joey.jiron"}),a.a.createElement(z,{src:B.a,url:"https://github.com/joeyjiron06/clock-timer"}),a.a.createElement(z,{src:I.a,url:"https://twitter.com/joeyjiron06"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement((function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Timer"),a.a.createElement(S,null),a.a.createElement(A,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.4caf215c.chunk.js.map